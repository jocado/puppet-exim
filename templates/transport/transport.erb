<%
def validate_string(string)
  unless string.nil?
    abort "String may not be empty" if string.empty?
    return true
  end
end
-%>
<%= @title %>:
  driver          = <%= @driver %>
<% if @delivery_date_add -%>
  delivery_date_add
<% end -%>
<% if @envelope_to_add -%>
  envelope_to_add
<% end -%>
<% if @return_path_add -%>
  return_path_add
<% end -%>
<% if validate_string(@command) -%>
  command         = <%= @command %>
<% end -%>
<% if @log_output -%>
  log_output
<% end -%>
<% if @return_output -%>
  return_output
<% end -%>
<% if validate_string (@temp_errors) -%>
  temp_errors     = <%= @temp_errors.join(' : ') %>
<% end -%>
<% if @freeze_exec_fail -%>
  freeze_exec_fail
<% end -%>
<% if validate_string(@connect_timeout) -%>
  connect_timeout = <%= @connect_timeout %>
<% end -%>
<% if @maildir_format -%>
  maildir_format
<% end -%>
<% if validate_string(@maildir_tag) -%>
  maildir_tag     = <%= @maildir_tag %>
<% end -%>
<% if validate_string(@directory) -%>
  directory       = <%= @directory %>
<% end -%>
<% if validate_string(@file) -%>
  file            = <%= @file %>
<% end -%>
<% if validate_string(@mode) -%>
  mode            = <%= @mode %>
<% end -%>
<% if validate_string(@directory_mode) -%>
  directory_mode  = <%= @directory_mode %>
<% end -%>
<% if validate_string(@socket) -%>
  socket          = <%= @socket %>
<% end -%>
<% unless @batch_max.nil?
 abort "could not convert value of batch_max to number greater then 1" if @batch_max.to_i < 1 -%>
  batch_max       = <%= @batch_max.to_i %>
<% end -%>
<% if validate_string(@user) -%>
  user            = <%= @user %>
<% end -%>
<% if validate_string(@group) -%>
  group           = <%= @group %>
<% end -%>
<% if validate_string(@home_directory) -%>
  home_directory  = <%= @home_directory %>
<% end -%>
<% if @initgroups -%>
  initgroups
<% end -%>
<% if @rcpt_include_affixes -%>
  rcpt_include_affixes
<% end -%>
<% if validate_string(@message_prefix) -%>
  message_prefix  = <%= @message_prefix %>
<% end -%>
<% if validate_string(@message_suffix) -%>
  message_suffix  = <%= @message_suffix %>
<% end -%>
<% if validate_string(@transport_filter) -%>
  transport_filter = <%= @transport_filter %>
<% end -%>
<% unless @port.nil? -%>
  port            = <%= @port %>
<% end -%>
<% if validate_string(@to) -%>
  to              = <%= @to %>
<% end -%>
<% if validate_string(@subject) -%>
  subject         = <%= @subject %>
<% end -%>
<% if validate_string(@text) -%>
  text            = <%= @text %>
<% end -%>
<% unless @hosts.nil? -%>
  hosts           = <%= @hosts.join(' : ') %>
<% end -%>
<% if @allow_localhost -%>
  allow_localhost
<% end -%>
<% if validate_string(@hosts_try_auth) -%>
  hosts_try_auth  = <%= @hosts_try_auth %>
<% end -%>

